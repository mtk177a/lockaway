<div class="mx-auto w-full max-w-5xl">
  <h2 class="my-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900">Everyone's Habits</h2>

  <div class="mb-4 flex items-center">
    <%= form_with(url: public_habits_path, method: :get, local: true, class: "flex items-center space-x-2") do |form| %>
      <div>
        <%= form.label :sort, "Sort by", class: "mr-2" %>
        <%= form.select :sort, options_for_select([['Newest', 'newest'], ['Oldest', 'oldest']], params[:sort]), {}, { class: "select select-bordered" } %>
      </div>
      <div>
        <%= form.label :habit_type, "Habit Type", class: "mr-2 ml-4" %>
        <%= form.select :habit_type, options_for_select(Habit.habit_types.keys.map { |k| [k.humanize, k] }, params[:habit_type]), {}, { class: "select select-bordered" } %>
      </div>
      <div>
        <%= form.submit "Filter", class: "btn btn-primary ml-4" %>
      </div>
    <% end %>
  </div>

  <div class="list">
    <% @habits.each do |habit| %>
      <%= render partial: 'shared/habit_card', locals: { habit: habit, show_path: public_habit_path(habit), edit_path: edit_habit_path(habit), delete_path: habit_path(habit), editable: logged_in? && current_user.own?(habit) } %>
    <% end %>
  </div>

  <%= paginate @habits %>
</div>
